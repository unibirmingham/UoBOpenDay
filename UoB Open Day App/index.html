<!DOCTYPE html>
<html>
<head>
    <title>Kendo UI</title>
    <meta charset="UTF-8" />
    <link href="kendo/styles/kendo.mobile.all.min.css" rel="stylesheet" />
    <link href="styles/main.css" rel="stylesheet" />
    <link href="styles/app.css" rel="stylesheet" />
    <link href="styles/map.css" rel="stylesheet" />
    <script src="cordova.js"></script>
    <script src="kendo/js/jquery.min.js"></script>
    <script src="kendo/js/kendo.mobile.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=true"></script>
    <!-- App scripts -->
    <script src="scripts/contentRetrieval.js"></script>
    <script src="scripts/settings.js"></script>
    <script src="scripts/app.js"></script>
    <script src="scripts/events.js"></script>
    <script src="scripts/map.js"></script>
    <script src="scripts/registrationinfo.js"></script>
    <script src="scripts/about.js"></script>
</head>

<body id="appBody">
  
<!--Screens-->

    <!--Home-->
    <div id="tabstrip-home" data-role="view" data-title="Home">
        <style>
        .km-heart:after,
        .km-heart:before
        {
            content: "\e044";
        }

    </style>
        <div class="view-content">
            <h1>Open Day Application</h1>
            <p id="welcome-message">Welcome to the Open Day Application.</p>
            <div class="error-message"></div>
            <ul data-role="listview" datatype="group">
                <li class="webServiceButton"><a data-icon="cal" href="#tabstrip-events" data-transition="slide">Activities</a></li>
                <li class="webServiceButton"><a data-icon="heart" href="#tabstrip-favourites" data-transition="slide">Favourite Activities</a></li>
                <li class="webServiceButton"><a data-icon="recents" href="#tabstrip-schedule" data-transition="slide">Personal schedule</a></li>
                <li class="webConnectionButton"><a data-icon="globe" href="#tabstrip-map" data-transition="slide">Map</a></li>
                <li class="webSiteButton"><a data-icon="compose" href="#tabstrip-registration" data-transition="slide">Registration info</a></li>
                <li><a data-icon="about" href="#tabstrip-about" data-transition="slide">About the application</a></li>
            </ul>
            <div class="img"></div>
        </div>
    </div>
    
    <!--Events screen-->
    <div id="tabstrip-events" data-role="view" data-init="app.populateEventList" data-title="Activities">
        <style>
            .km-favourite:after,
            .km-favourite:before
            {
                content: "\e044";
            }
            .km-personalschedule:after,
            .km-personalschedule:before
            {
                content: "\e0d2";
            }      
        </style>
        <div class="events-title">Open Day Activities</div>
        <div class="error-message"></div>
        <ul id="open-day-events-view" class="events-list"></ul>
        
    </div>

    <!--Favourites screen (data-show event used as it needs to repopulate in case of changes) -->
    <div id="tabstrip-favourites" data-role="view" data-show="app.populateFavouriteEventList" data-title="Favourites">
        <style>
            .km-favourite:after,
            .km-favourite:before
            {
                content: "\e044";
            }
            .km-personalschedule:after,
            .km-personalschedule:before
            {
                content: "\e0d2";
            }      
        </style>
        <div class="events-title">Favourite Open Day Activities</div>
        <div class="error-message"></div>
        <ul id="open-day-favourite-events-view" class="events-list"></ul>
        
    </div>
    
    <!--Personal schedule(data-show event used as it needs to repopulate in case of changes)-->
    <div id="tabstrip-schedule" data-role="view" data-show="app.populateScheduleEventList" data-title="Personal Schedule">
        <style>
            .km-moveup:after,
            .km-moveup:before
            {
                content: "\e011";
            }
            .km-movedown:after,
            .km-movedown:before
            {
                content: "\e012";
            }      
        </style>
        <div class="events-title">Personal Schedule</div>
        <div class="error-message"></div>
        <ul id="open-day-schedule-events-view" class="events-list"></ul>
    </div>
        
    <!--Campus Map-->
    <div id="tabstrip-map"
        data-role="view"
        data-title="Campus Map"
        data-init="app.campusMapService.initialise"
        data-show="app.campusMapService.show"
        data-hide="app.campusMapService.hide"
        data-model="app.campusMapService.viewModel"
        data-stretch="true">

        <div id="no-map" data-bind="invisible: isGoogleMapsInitialized">
            Campus map requires internet connection to display.
        </div>
        <div id="map-search-wrap" data-bind="visible: isGoogleMapsInitialized">
            <button id="map-navigate-home" data-bind="click: onNavigateHome"></button>
        </div>
        <div id="map-canvas" data-bind="visible: isGoogleMapsInitialized"></div>

    </div>
      
    <!-- Registration information -->
    <div id="tabstrip-registration" data-role="view" data-init="app.populateRegistrationInfo" data-title="Registration">
        <div class="view-content">
            <div id="registrationContent">
                
            </div>
        </div>
     </div>
    
    <!-- About information -->
    <div id="tabstrip-about" data-role="view" data-init="app.populateAboutInfo" data-title="Registration">
        <div class="view-content">
            <div id="aboutContent">
                <ul>
                    <li>Connection type: <span class="connectionTypeData">Loading ...</span></li>
                    <li>Birmingham Web Site: <span class="birminghamWebSite">Loading ...</span></li>
                    <li>Events Web Service: <span class="eventsWebService">Loading ...</span></li>
                </ul>
            </div>
        </div>
     </div>
 <!--Screens End-->   
    
<!--Layout-->
    <div data-role="layout" data-id="tabstrip-layout">

        <!--Header-->
        <div data-role="header">
        <div data-role="navbar">
            <a class="nav-button" data-align="left" data-role="backbutton">Back</a>
            <span data-role="view-title"></span>
        </div>

        </div>

        <!--Footer-->
        <div id="appFooter" data-role="footer">
            <div data-role="tabstrip">
                <a href="#tabstrip-home" data-icon="home">Home</a>
                <a class="webServiceButton" href="#tabstrip-events" data-icon="cal">Events</a>
                <a href="#tabstrip-about" data-icon="about">About</a>
            </div>
        </div>
    </div>    
<!-- Layout End -->
    
    <!-- Template Loading -->
    <script src="scripts/templateLoader.js"></script>
        
    <script>
        app.application = new kendo.mobile.Application(document.body, { 
            layout: "tabstrip-layout"
        });

    </script>
    
    <script>
        //load templates
        templateLoader.loadExtTemplate("templates/events.tmpl.html");
        templateLoader.loadExtTemplate("templates/events-schedule.tmpl.html");
    </script>

</body>
</html>